:root{
      --shadow: 0 12px 30px rgba(0,0,0,.10);
      --card-radius: 20px;
      --soft: rgba(13,110,253,.08);
    }
    body{ background: linear-gradient(180deg,#f7f9ff 0%, #f7f7fb 55%, #ffffff 100%); }
    .app-shell { max-width: 1080px; }

    .brand-badge{
      background: var(--soft);
      border: 1px solid rgba(13,110,253,.15);
      border-radius: 999px;
      padding: .45rem .75rem;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      font-weight: 700;
    }
    .panel{
      border-radius: 24px;
      box-shadow: var(--shadow);
      background: #fff;
      border: 1px solid rgba(0,0,0,.06);
    }
    .stat{
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.8);
      padding: 10px 12px;
    }
    .small-muted{ color: rgba(0,0,0,.55); }
    .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      border: 1px solid rgba(0,0,0,.16);
      border-bottom-width: 2px;
      padding: .1rem .4rem;
      border-radius: .4rem;
      font-size: .85em;
      background: #fff;
    }
    .app-header{ gap: 10px; }
    .header-left{ flex: 1 1 auto; min-width: 240px; }
    .header-actions{ justify-content: flex-end; }
    .header-actions .btn,
    .header-actions .dropdown .btn{ white-space: nowrap; }
    .lang-wrap{ border: 1px solid rgba(0,0,0,.08); border-radius: 999px; padding: .2rem .4rem; background: #fff; }
    .lang-wrap .form-select{ border: 0; box-shadow: none; padding-left: .35rem; }

    @media (max-width: 992px){
      .app-header{ align-items: flex-start; }
      .header-actions{ width: 100%; justify-content: space-between; }
    }
    @media (max-width: 576px){
      .header-left{ width: 100%; }
      .header-left .small{ display: block; margin-left: .15rem; }
      .header-actions{
        width: 100%;
        gap: .5rem;
      }
      .header-actions > *{ flex: 1 1 calc(50% - .5rem); }
      .header-actions .dropdown{ flex: 1 1 calc(50% - .5rem); }
      .header-actions .dropdown .btn,
      .header-actions .btn{ width: 100%; }
      .lang-wrap{ flex: 1 1 100%; justify-content: space-between; }
      .lang-wrap label{ font-size: .85rem; }
    }

    /* Flashcard flip */
    .flip-wrap{
      width: 100%;
      height: 320px;
      perspective: 1400px;
      border-radius: var(--card-radius);
    }
    .flip-card{
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform .55s cubic-bezier(.2,.85,.2,1);
      border-radius: var(--card-radius);
      box-shadow: var(--shadow);
    }
    .flip-wrap.is-flipped .flip-card{ transform: rotateY(180deg); }
    .flip-face{
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      border-radius: var(--card-radius);
      overflow: hidden;
      display:flex;
      flex-direction: column;
      justify-content: space-between;
      border: 1px solid rgba(0,0,0,.06);
      background: #fff;
    }
    .flip-front{
      background: radial-gradient(1200px 420px at 20% 0%, rgba(13,110,253,.20), transparent 55%),
                  radial-gradient(1200px 420px at 90% 20%, rgba(108,117,125,.14), transparent 55%),
                  #ffffff;
    }
    .flip-back{
      transform: rotateY(180deg);
      background: radial-gradient(1200px 420px at 10% 10%, rgba(25,135,84,.18), transparent 60%),
                  radial-gradient(1200px 420px at 90% 20%, rgba(13,110,253,.10), transparent 55%),
                  #ffffff;
    }
    .card-top{
      padding: 18px 18px 10px;
      display:flex; align-items:center; justify-content:space-between;
      border-bottom: 1px dashed rgba(0,0,0,.10);
    }
    .chip{
      display:inline-flex; align-items:center; gap:.4rem;
      font-size: .85rem;
      padding: .28rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.65);
    }
    .card-mid{
      padding: 18px;
      display:flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
      text-align:center;
      flex: 1;
    }
    .jp{
      font-weight: 800;
      font-size: clamp(1.4rem, 2.8vw, 2.1rem);
      letter-spacing: .02em;
    }
    .reading{
      font-size: 1rem;
      color: rgba(0,0,0,.65);
    }
    .meaning{
      font-size: clamp(1.1rem, 2.4vw, 1.6rem);
      font-weight: 800;
    }
    .hint{ color: rgba(0,0,0,.55); font-size: .95rem; }
    .card-bot{
      padding: 14px 18px;
      border-top: 1px dashed rgba(0,0,0,.10);
      display:flex; justify-content:space-between; align-items:center;
    }

    /* Swiper layout */
    .swiper{
      padding: 14px 14px 54px; /* chừa chỗ cho pagination/scrollbar */
    }
    #cardSwiper { padding-bottom: 56px; }

    /* Desktop: fraction */
    .swiper-pagination-fraction{
      bottom: 30px !important;
      font-weight: 800;
      color: rgba(0,0,0,.65);
    }
    /* Mobile: progressbar (đặt thấp xuống) */
    .swiper-pagination-progressbar{
      height: 6px !important;
      border-radius: 999px;
      overflow: hidden;
      background: rgba(0,0,0,.08);
      bottom: 34px !important;
      top: auto !important;
    }
    .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{
      background: rgba(13,110,253,.55);
      border-radius: 999px;
    }
    /* Scrollbar draggable */
    .swiper-scrollbar{
      height: 8px !important;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      bottom: 10px !important;
      top: auto !important;
    }
    .swiper-scrollbar-drag{
      border-radius: 999px;
      background: rgba(13,110,253,.55);
    }

    /* Quiz options */
    .option-btn{
      border-radius: 16px;
      padding: .9rem 1rem;
      border: 1px solid rgba(0,0,0,.10);
      background: #fff;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
      text-align:left;
    }
    .option-btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(0,0,0,.06);
      border-color: rgba(13,110,253,.25);
    }
    .option-btn.correct{ border-color: rgba(25,135,84,.7); background: rgba(25,135,84,.08); }
    .option-btn.wrong{ border-color: rgba(220,53,69,.7); background: rgba(220,53,69,.08); }
